{{fg.getRawValue() | json}}
<!--{{textData}}-->
{{fileList | json}}

<form nz-form [formGroup]="fg" [nzLayout]="'vertical'">

  <!-- ERROR TEMPLATE-->
  <ng-template #errorTpl let-control>
    <ng-container *ngIf="control.hasError('required')">
      필수 입력 값입니다.
    </ng-container>
  </ng-template>

  <input type="hidden" formControlName="fkBoard">
  <input type="hidden" formControlName="pkArticle">
  <input type="hidden" formControlName="ppkArticle">

  <!--일정ID 필드-->
  <app-nz-input-text #title
    [parentFormGroup]="fg" formControlName="title" [fieldName]="'title'"
    [itemId]="'title'" [label]="'제목'"
    placeholder="제목을 입력해주세요."
    [required]="false" [nzErrorTip]="errorTpl">
  </app-nz-input-text>

  <app-nz-input-ckeditor
    [parentFormGroup]="fg" formControlName="contents" [fieldName]="'contents'">
    [itemId]="'contents'" [label]="'내용'"
  </app-nz-input-ckeditor>
  <!-- 파일업로드 이벤트가 발생하지 않아서 수정 필요
  <app-nz-file-upload>
    [fileList]="fileList"
    (uploadCompleted)="fileUploaded($event)"
  </app-nz-file-upload>
  -->

  <div class="clearfix" nz-row style="height: 100px">
      <nz-upload #upload class="upload-list-inline"
          [nzAction]="fileUploadUrl"
          nzMultiple
          [nzListType]="'text'"
          [nzWithCredentials]="true"
          [nzData]="imageUploadParam"
          [nzHeaders]="fileUploadHeader"
          [nzFileList]="fileList"
          (nzChange)="fileUploadChange($event)">
          <button nz-button>
            <i nz-icon nzType="upload"></i>
            <span>첨부파일</span>
          </button>
      </nz-upload>
  </div>

</form>

<div class="footer">
  <app-nz-crud-button-group
    [searchVisible]="false"
    [isSavePopupConfirm]="false"
    (closeClick)="closeForm()"
    (saveClick)="saveArticle()"
    (deleteClick)="deleteArticle(fg.get('pkArticle')?.value)">
  </app-nz-crud-button-group>
</div>
